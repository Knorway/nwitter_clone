{"version":3,"sources":["firebaseConfig.js","components/AuthForm.js","routes/Auth.js","components/Nweet.js","components/NweetFactory.js","routes/Home.js","components/Navigation.js","routes/Profile.js","components/Router.js","components/App.js","index.js"],"names":["firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","authService","fireStore","fireStorage","AuthForm","auth","useState","text","setText","password","setPassword","newAccount","setNewAccount","error","setError","onChange","e","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","type","required","placeholder","onClick","prev","Auth","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","Nweet","nweetObj","isOwner","editing","setEditing","newNweet","setNewNweet","onDeleteClick","window","confirm","doc","id","delete","attachmentUrl","refFromURL","toggleEditing","update","src","width","height","alt","NweetFactory","userObj","attachment","setAttachment","nweet","setNweet","imgRef","useRef","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","item","createdAt","Date","now","creatorId","collection","add","current","accept","file","files","reader","FileReader","onloadend","result","currentTarget","readAsDataURL","Home","nweets","setNweets","useEffect","onSnapshot","shot","nweetArray","docs","map","data","key","Navigation","to","displayName","Profile","refreshUser","history","useHistory","newDisplayName","setNewDisplayName","updateProfile","getMyNweet","where","orderBy","get","signOut","push","AppRouter","isLoggedIn","exact","path","from","App","init","setInit","setUserObj","onAuthStateChanged","user","args","currentUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4855d4fd.chunk.js","sourcesContent":["import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_API_KEY,\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\n\tdatabaseURL: process.env.REACT_APP_DATABASE_URL,\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\n\tstorageBucket: process.env.REACT_APP_STORAGEBUCKET,\n\tmessagingSenderId: process.env.REACT_APP_MESSAGIN_SENDER_ID,\n\tappId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\nexport const authService = firebase.auth();\nexport const fireStore = firebase.firestore();\nexport const fireStorage = firebase.storage();\n","import React, { useState } from 'react';\nimport firebase from 'firebaseConfig';\n\nfunction AuthForm() {\n\tconst authService = firebase.auth();\n\tconst [text, setText] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [newAccount, setNewAccount] = useState(true);\n\tconst [error, setError] = useState('');\n\n\tconst onChange = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tif (name === 'text') {\n\t\t\tsetText(value);\n\t\t} else if (name === 'password') {\n\t\t\tsetPassword(value);\n\t\t}\n\t};\n\tconst onSubmit = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tif (newAccount) {\n\t\t\t\tawait authService.createUserWithEmailAndPassword(\n\t\t\t\t\ttext,\n\t\t\t\t\tpassword\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tawait authService.signInWithEmailAndPassword(text, password);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tsetError(error.message);\n\t\t}\n\t};\n\tconst toggleAccount = () => setNewAccount((prev) => !prev);\n\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype='email'\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\tname='text'\n\t\t\t\t\tvalue={text}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype='password'\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder='password'\n\t\t\t\t\tname='password'\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tvalue={newAccount ? 'Create Account' : 'Sign In'}\n\t\t\t\t/>\n\t\t\t\t{error}\n\t\t\t</form>\n\t\t\t<span onClick={toggleAccount}>\n\t\t\t\t{newAccount ? 'Sign In' : 'Create Account'}\n\t\t\t</span>\n\t\t</>\n\t);\n}\n\nexport default AuthForm;\n","import React from 'react';\nimport firebase from 'firebaseConfig';\nimport AuthForm from 'components/AuthForm';\n\nconst Auth = () => {\n\tconst authService = firebase.auth();\n\tconst onSocialClick = async (e) => {\n\t\tconst name = e.target.name;\n\t\tlet provider;\n\t\tif (name === 'google') {\n\t\t\tprovider = new firebase.auth.GoogleAuthProvider();\n\t\t} else if (name === 'github') {\n\t\t\tprovider = new firebase.auth.GithubAuthProvider();\n\t\t}\n\t\tawait authService.signInWithPopup(provider);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<AuthForm />\n\t\t\t<div>\n\t\t\t\t<button onClick={onSocialClick} name='google'>\n\t\t\t\t\tContinue with Google\n\t\t\t\t</button>\n\t\t\t\t<button onClick={onSocialClick} name='github'>\n\t\t\t\t\tContinue with Github\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Auth;\n","import React, { useState } from 'react';\nimport { fireStorage, fireStore } from 'firebaseConfig';\n\nfunction Nweet({ nweetObj, isOwner }) {\n\tconst [editing, setEditing] = useState(false);\n\tconst [newNweet, setNewNweet] = useState(nweetObj.text);\n\n\tconst onDeleteClick = async () => {\n\t\tconst ok = window.confirm('are you sure to delete this nweet?');\n\t\tif (ok) {\n\t\t\tawait fireStore.doc(`nweets/${nweetObj.id}`).delete();\n\t\t\tif (nweetObj.attachmentUrl)\n\t\t\t\tawait fireStorage.refFromURL(nweetObj.attachmentUrl).delete();\n\t\t}\n\t};\n\tconst toggleEditing = () => setEditing((prev) => !prev);\n\tconst onChange = (e) => {\n\t\tconst value = e.target.value;\n\t\tsetNewNweet(value);\n\t};\n\tconst onSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tawait fireStore.doc(`nweets/${nweetObj.id}`).update({\n\t\t\ttext: newNweet,\n\t\t});\n\t\tsetEditing(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{editing ? (\n\t\t\t\t<>\n\t\t\t\t\t{isOwner && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tvalue={newNweet}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tplaceholder='Edit your nweet'\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<input type='submit' value='Update Nweet' />\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<button onClick={toggleEditing}>cancel</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<h4>{nweetObj.text}</h4>\n\t\t\t\t\t{nweetObj.attachmentUrl && (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={nweetObj.attachmentUrl}\n\t\t\t\t\t\t\twidth='50px'\n\t\t\t\t\t\t\theight='50px'\n\t\t\t\t\t\t\talt='thumbnail'\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isOwner && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<button onClick={onDeleteClick}>\n\t\t\t\t\t\t\t\tDelete Nweet\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={toggleEditing}>Edit Nweet</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Nweet;\n","import React, { useRef, useState } from 'react';\nimport { fireStorage, fireStore } from 'firebaseConfig';\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction NweetFactory({ userObj }) {\n\tconst [attachment, setAttachment] = useState('');\n\tconst [nweet, setNweet] = useState('');\n\tconst imgRef = useRef(null);\n\n\tconst onSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tlet attachmentUrl = '';\n\t\tif (attachment !== '') {\n\t\t\tconst attachmentRef = fireStorage\n\t\t\t\t.ref()\n\t\t\t\t.child(`${userObj.uid}/${uuidv4()}`);\n\t\t\tconst response = await attachmentRef.putString(\n\t\t\t\tattachment,\n\t\t\t\t'data_url'\n\t\t\t);\n\t\t\tattachmentUrl = await response.ref.getDownloadURL();\n\t\t}\n\t\tconst item = {\n\t\t\ttext: nweet,\n\t\t\tcreatedAt: Date.now(),\n\t\t\tcreatorId: userObj.uid,\n\t\t\tattachmentUrl,\n\t\t};\n\t\tawait fireStore.collection('nweets').add(item);\n\t\timgRef.current.value = '';\n\t\tsetNweet('');\n\t\tsetAttachment('');\n\t};\n\tconst onChange = (e) => {\n\t\tsetNweet(e.target.value);\n\t};\n\tconst onFileChange = (e) => {\n\t\tconst file = e.target.files[0];\n\t\tconst reader = new FileReader();\n\t\treader.onloadend = (e) => {\n\t\t\tconst result = e.currentTarget.result;\n\t\t\tsetAttachment(result);\n\t\t};\n\t\treader.readAsDataURL(file);\n\t};\n\tconst onClearAttachment = () => {\n\t\tsetAttachment('');\n\t\timgRef.current.value = '';\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceholder=\"what's on your mind?\"\n\t\t\t\t\tvalue={nweet}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype='file'\n\t\t\t\t\taccept='image/*'\n\t\t\t\t\tonChange={onFileChange}\n\t\t\t\t\tref={imgRef}\n\t\t\t\t/>\n\t\t\t\t<input type='submit' value='Nweet' />\n\t\t\t\t{attachment && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={attachment}\n\t\t\t\t\t\t\talt='thumbnail'\n\t\t\t\t\t\t\twidth='50px'\n\t\t\t\t\t\t\theight='50px'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button onClick={onClearAttachment}>Clear</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nexport default NweetFactory;\n","import React, { useState, useEffect } from 'react';\nimport { fireStore } from 'firebaseConfig';\nimport Nweet from 'components/Nweet';\nimport NweetFactory from 'components/NweetFactory';\n\nconst Home = ({ userObj }) => {\n\tconst [nweets, setNweets] = useState([]);\n\n\tuseEffect(() => {\n\t\tfireStore.collection('nweets').onSnapshot((shot) => {\n\t\t\tconst nweetArray = shot.docs.map((doc) => ({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data(),\n\t\t\t}));\n\t\t\tsetNweets(nweetArray);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<NweetFactory userObj={userObj} />\n\t\t\t<div>\n\t\t\t\t{nweets.map((nweet) => (\n\t\t\t\t\t<Nweet\n\t\t\t\t\t\tkey={nweet.id}\n\t\t\t\t\t\tnweetObj={nweet}\n\t\t\t\t\t\tisOwner={nweet.creatorId === userObj.uid}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Navigation = ({ userObj }) => (\n\t<nav>\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<Link to='/'>Home</Link>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<Link to='/profile'>{userObj.displayName}'s My profile</Link>\n\t\t\t</li>\n\t\t</ul>\n\t</nav>\n);\n\nexport default Navigation;\n","import React, { useEffect, useState } from 'react';\nimport { authService, fireStore } from 'firebaseConfig';\nimport { useHistory } from 'react-router-dom';\n\nconst Profile = ({ userObj, refreshUser }) => {\n\tconst history = useHistory();\n\tconst [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n\tconst onLogOutClick = () => {\n\t\tauthService.signOut();\n\t\thistory.push('/');\n\t};\n\tconst onChange = (e) => setNewDisplayName(e.target.value);\n\tconst onSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tif (newDisplayName !== userObj.displayName) {\n\t\t\tawait userObj.updateProfile({\n\t\t\t\tdisplayName: newDisplayName,\n\t\t\t});\n\t\t\trefreshUser();\n\t\t}\n\t};\n\tconst getMyNweet = async () => {\n\t\tawait fireStore\n\t\t\t.collection('nweets')\n\t\t\t.where('creatorId', '==', userObj.uid)\n\t\t\t.orderBy('createdAt')\n\t\t\t.get();\n\t};\n\tuseEffect(() => {\n\t\tgetMyNweet();\n\t});\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tplaceholder='Display name'\n\t\t\t\t\tvalue={newDisplayName}\n\t\t\t\t/>\n\t\t\t\t<input type='submit' value='Update Profile' />\n\t\t\t</form>\n\t\t\t<button onClick={onLogOutClick}>Log Out</button>\n\t\t</>\n\t);\n};\n\nexport default Profile;\n","import React from 'react';\nimport {\n\tHashRouter as Router,\n\tRoute,\n\tSwitch,\n\tRedirect,\n} from 'react-router-dom';\nimport Auth from '../routes/Auth';\nimport Home from '../routes/Home';\nimport Navigation from './Navigation';\nimport Profile from 'routes/Profile';\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUser }) => {\n\treturn (\n\t\t<Router>\n\t\t\t{isLoggedIn && <Navigation userObj={userObj} />}\n\t\t\t<Switch>\n\t\t\t\t{isLoggedIn ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Route exact path='/'>\n\t\t\t\t\t\t\t<Home userObj={userObj} />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route exact path='/profile'>\n\t\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\t\tuserObj={userObj}\n\t\t\t\t\t\t\t\trefreshUser={refreshUser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Route exact path='/'>\n\t\t\t\t\t\t\t<Auth />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Redirect from='*' to='/' />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n};\n\nexport default AppRouter;\n","import React, { useState, useEffect } from 'react';\nimport AppRouter from 'components/Router';\nimport { authService } from 'firebaseConfig';\n\nfunction App() {\n\tconst [init, setInit] = useState(false);\n\tconst [userObj, setUserObj] = useState(null);\n\n\tuseEffect(() => {\n\t\tauthService.onAuthStateChanged((user) => {\n\t\t\tif (user) {\n\t\t\t\tsetUserObj({\n\t\t\t\t\tdisplayName: user.displayName,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tupdateProfile: (args) => user.updateProfile(args),\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetUserObj(null);\n\t\t\t}\n\t\t\tsetInit(true);\n\t\t});\n\t}, []);\n\n\tconst refreshUser = () => {\n\t\tconst user = authService.currentUser;\n\t\tsetUserObj({\n\t\t\tdisplayName: user.displayName,\n\t\t\tuid: user.uid,\n\t\t\tupdateProfile: (args) => user.updateProfile(args),\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{init ? (\n\t\t\t\t<AppRouter\n\t\t\t\t\tisLoggedIn={userObj}\n\t\t\t\t\tuserObj={userObj}\n\t\t\t\t\trefreshUser={refreshUser}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t'initializing...'\n\t\t\t)}\n\t\t\t{/* <footer>&copy; {new Date().getFullYear()} Nwitter</footer> */}\n\t\t</>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}